<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¶ˆæ¯æç¤ºæµ‹è¯•</title>
    <link rel="stylesheet" href="/css/style.css">
    <style>
        body {
            padding: 50px;
            font-family: Arial, sans-serif;
        }
        .test-section {
            max-width: 600px;
            margin: 20px auto;
            padding: 20px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .btn-group {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        .info-box {
            background: #f0f0f0;
            padding: 15px;
            border-radius: 5px;
            margin-top: 20px;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="test-section">
        <h2>ğŸ§ª æ¶ˆæ¯æç¤ºç³»ç»Ÿæµ‹è¯•</h2>
        <p>ç‚¹å‡»æŒ‰é’®æµ‹è¯•ä¸åŒç±»å‹çš„æ¶ˆæ¯æç¤ºï¼š</p>
        
        <div class="btn-group">
            <button class="btn btn-primary" onclick="testSuccess()">æˆåŠŸæ¶ˆæ¯</button>
            <button class="btn btn-secondary" onclick="testError()">é”™è¯¯æ¶ˆæ¯</button>
            <button class="btn" onclick="testInfo()">ä¿¡æ¯æ¶ˆæ¯</button>
        </div>

        <div class="info-box">
            <strong>ğŸ“ æµ‹è¯•è¯´æ˜ï¼š</strong>
            <ul style="margin: 10px 0 0 20px;">
                <li>æ¶ˆæ¯åº”è¯¥å‡ºç°åœ¨é¡µé¢é¡¶éƒ¨ä¸­å¤®</li>
                <li>èƒŒæ™¯è‰²åº”è¯¥å¯¹åº”æ¶ˆæ¯ç±»å‹ï¼ˆç»¿è‰²/çº¢è‰²/è“è‰²ï¼‰</li>
                <li>3ç§’åè‡ªåŠ¨æ¶ˆå¤±</li>
                <li>æ¯æ¬¡åªæ˜¾ç¤ºä¸€æ¡æ¶ˆæ¯</li>
            </ul>
        </div>

        <h3 style="margin-top: 30px;">ğŸ” è¡¨å•éªŒè¯æµ‹è¯•</h3>
        <form id="testForm" onsubmit="handleSubmit(event)">
            <div class="form-group">
                <label>è¾“å…¥æ¡†1ï¼ˆå§‹ç»ˆæ˜¾ç¤ºï¼‰</label>
                <input type="text" id="input1" name="input1" required>
            </div>
            
            <div class="form-group" id="hiddenGroup" style="display: none;">
                <label>è¾“å…¥æ¡†2ï¼ˆéšè—çš„ï¼Œä¸åº”è¯¥è¢«éªŒè¯ï¼‰</label>
                <input type="text" id="input2" name="input2">
            </div>
            
            <div class="form-group">
                <label class="checkbox-label">
                    <input type="checkbox" id="toggleHidden" onchange="toggleHiddenInput()">
                    æ˜¾ç¤ºéšè—çš„è¾“å…¥æ¡†å¹¶è®¾ä¸ºå¿…å¡«
                </label>
            </div>
            
            <button type="submit" class="btn btn-primary">æäº¤è¡¨å•</button>
        </form>

        <div class="info-box" style="margin-top: 20px;">
            <strong>ğŸ“‹ è¡¨å•æµ‹è¯•è¯´æ˜ï¼š</strong>
            <ul style="margin: 10px 0 0 20px;">
                <li>ä¸å‹¾é€‰å¤é€‰æ¡†æ—¶ï¼Œåªéœ€è¦å¡«å†™è¾“å…¥æ¡†1å³å¯æäº¤</li>
                <li>å‹¾é€‰å¤é€‰æ¡†åï¼Œè¾“å…¥æ¡†2æ˜¾ç¤ºå¹¶å˜ä¸ºå¿…å¡«é¡¹</li>
                <li>å–æ¶ˆå‹¾é€‰åï¼Œè¾“å…¥æ¡†2éšè—ä¸”ä¸å†éªŒè¯</li>
                <li>æäº¤æˆåŠŸåä¼šæ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯</li>
            </ul>
        </div>
    </div>

    <script src="/js/common.js"></script>
    <script>
        // æµ‹è¯•æˆåŠŸæ¶ˆæ¯
        function testSuccess() {
            console.log('æµ‹è¯•æˆåŠŸæ¶ˆæ¯');
            showMessage('è¿™æ˜¯ä¸€æ¡æˆåŠŸæ¶ˆæ¯ï¼', 'success');
        }

        // æµ‹è¯•é”™è¯¯æ¶ˆæ¯
        function testError() {
            console.log('æµ‹è¯•é”™è¯¯æ¶ˆæ¯');
            showMessage('è¿™æ˜¯ä¸€æ¡é”™è¯¯æ¶ˆæ¯ï¼', 'error');
        }

        // æµ‹è¯•ä¿¡æ¯æ¶ˆæ¯
        function testInfo() {
            console.log('æµ‹è¯•ä¿¡æ¯æ¶ˆæ¯');
            showMessage('è¿™æ˜¯ä¸€æ¡æ™®é€šä¿¡æ¯ï¼', 'info');
        }

        // åˆ‡æ¢éšè—è¾“å…¥æ¡†
        function toggleHiddenInput() {
            const checkbox = document.getElementById('toggleHidden');
            const hiddenGroup = document.getElementById('hiddenGroup');
            const input2 = document.getElementById('input2');
            
            if (checkbox.checked) {
                hiddenGroup.style.display = 'block';
                input2.required = true;
                console.log('æ˜¾ç¤ºè¾“å…¥æ¡†2ï¼Œè®¾ä¸ºå¿…å¡«');
            } else {
                hiddenGroup.style.display = 'none';
                input2.required = false;
                input2.value = '';
                console.log('éšè—è¾“å…¥æ¡†2ï¼Œå–æ¶ˆå¿…å¡«');
            }
        }

        // å¤„ç†è¡¨å•æäº¤
        function handleSubmit(event) {
            event.preventDefault();
            
            const formData = new FormData(event.target);
            const data = {
                input1: formData.get('input1'),
                input2: formData.get('input2')
            };
            
            console.log('è¡¨å•æäº¤:', data);
            showMessage('è¡¨å•æäº¤æˆåŠŸï¼æ•°æ®: ' + JSON.stringify(data), 'success');
            
            // æ¸…ç©ºè¡¨å•
            event.target.reset();
            document.getElementById('hiddenGroup').style.display = 'none';
            document.getElementById('input2').required = false;
        }

        // é¡µé¢åŠ è½½å®Œæˆ
        console.log('æµ‹è¯•é¡µé¢åŠ è½½å®Œæˆ');
        console.log('showMessage å‡½æ•°æ˜¯å¦å¯ç”¨:', typeof showMessage);
    </script>
</body>
</html>
